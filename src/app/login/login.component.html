<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-4">
      <div class="card">
        <div class="card-header text-center bg-primary text-white">
          <h3>Login</h3>
        </div>
        <div class="card-body">
          <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" *ngIf="!showOtpForm">
            <div class="mb-3">
              <label for="phoneNumber" class="form-label">Phone Number</label>
              <input
                type="text"
                id="phoneNumber"
                class="form-control"
                formControlName="phoneNumber"
                [ngClass]="{'is-invalid': isInvalid('phoneNumber')}"
                placeholder="Enter your phone number"
                maxlength="10"
              />
              <div class="invalid-feedback" *ngIf="isInvalid('phoneNumber')">
                Phone number is required.
              </div>
            </div>
            <div class="mb-3">
              <label for="password" class="form-label">Password</label>
              <input
                type="password"
                id="password"
                class="form-control"
                formControlName="password"
                [ngClass]="{'is-invalid': isInvalid('password')}"
                placeholder="Enter your password"
              />
              <div class="invalid-feedback" *ngIf="isInvalid('password')">
                Password is required.
              </div>
            </div>
            <button type="submit" class="btn btn-primary w-100" [disabled]="loginForm.invalid">Login</button>
          </form>

          <form [formGroup]="otpForm" (ngSubmit)="onOtpSubmit()" *ngIf="showOtpForm">
            <div class="mb-3">
              <label for="otp" class="form-label">Enter OTP</label>
              <div class="otp-inputs">
                <input
                  *ngFor="let control of otpControls; let i = index"
                  type="text"
                  class="otp-box form-control"
                  [formControlName]="control"
                  (keydown)="onOtpKeyDown($event, i)"
                  (input)="onOtpInput($event, i)"
                  maxlength="1"
                />
              </div>
              <div class="invalid-feedback" *ngIf="isInvalid('otp')">
                OTP is required.
              </div>
            </div>
            <button type="submit" class="btn btn-primary w-100" [disabled]="otpForm.invalid">Verify OTP</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
